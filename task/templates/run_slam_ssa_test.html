{% extends "base.html" %}
{% block title %} Test {% endblock %}
{% load staticfiles %}
{% block content %}
    <form action="submitted" method="post">
        {% csrf_token %}
        <h3 class="page-title">Process</h3>
        <div class="row">
            <div class="col-md-4">
                <div class="panel panel-headline">
                    <div class="panel-heading">
                        <h3 class="panel-title">Step 1</h3>
                        <p class="panel-subtitle">Which mode do you want to run?</p>
                    </div>
                    <div class="panel-body">
                        <select class="form-control" name="select_mode">
                            <option value="SLAM">SLAM</option>
                            <option value="SSA">SSA</option>
                            <option value="ALL">ALL</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="panel panel-headline">
                    <div class="panel-heading">
                        <h3 class="panel-title">Step2</h3>
                        <p class="panel-subtitle">Which data do you want to run?</p>
                    </div>
                    <div class="panel-body">
                        <input type="checkbox" value="milford" name="check_box_list"/>milford
                        <input type="checkbox" value="fuji" name="check_box_list"/>fuji
                        <input type="checkbox" value="tokyo" name="check_box_list"/>tokyo
                        <input type="checkbox" value="vw" name="check_box_list"/>vw
                        <input type="checkbox" value="localtest" name="check_box_list"/>local test
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="panel panel-headline">
                <div class="panel-heading">
                    <h3 class="panel-title">Step3</h3>
                    <p class="panel-subtitle">Please choose your branch</p>
                </div>
                <div class="panel-body">
                    <table class="table table-hover" id="slam">
                        <thead>
                        <tr>
                            <th>SLAM repo</th>
                            <th>branch</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th class="col-md-3">core/common</th>
                            <th class="col-md-9">
                                <input type="text" class="form-control" placeholder="input the branch" autocomplete="off" data-provide="typeahead" name="common" id="common"
                                       value="master">
                            </th>
                        </tr>
                        <tr>
                            <th class="col-md-2">algorithm_common</th>
                            <th class="col-md-10">
                                <input type="text" class="form-control" placeholder="input the branch" autocomplete="off" data-provide="typeahead" name="algorithm_common" id="algorithm_common"
                                       value="master">
                            </th>
                        </tr>
                        <tr>
                            <th class="col-md-2">algorithm_vehicle_offlineSLAM</th>
                            <th class="col-md-10">
                                <input type="text" class="form-control" placeholder="input the branch" autocomplete="off" data-provide="typeahead" name="algorithm_vehicle_offlineslam"
                                       id="algorithm_vehicle_offlineslam">
                            </th>
                        </tr>

                        </tbody>
                    </table>
                    <table class="table table-hover" id="ssa">
                        <thead>
                        <tr>
                            <th>SSA repo</th>
                            <th>branch</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th class="col-md-3">core/common</th>
                            <th class="col-md-9">
                                <input type="text" class="form-control" placeholder="input the branch" autocomplete="off" data-provide="typeahead" name="common_sam" id="common_sam"
                                       value="master">
                            </th>
                        </tr>
                        <tr>
                            <th class="col-md-2">algorithm_common</th>
                            <th class="col-md-10">
                                <input type="text" class="form-control" placeholder="input the branch" autocomplete="off" data-provide="typeahead" name="algorithm_common_sam" id="algorithm_common_sam"
                                       value="master">
                            </th>
                        </tr>
                        <tr>
                            <th class="col-md-2">algorithm_sam</th>
                            <th class="col-md-10">
                                <input type="text" class="form-control" placeholder="input the branch" autocomplete="off" data-provide="typeahead" name="algorithm_sam" id="algorithm_sam">
                            </th>
                        </tr>
                        </tbody>
                    </table>
                    <div class="row col-lg-offset-10">
                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#nextstep">Next Step</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="nextstep" tabindex="-1" role="dialog" aria-labelledby="nextstepLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="nextstepLabel">Confirm Info</h4>
                    </div>
                    <div class="modal-body">
                        Are you sure to start the test?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Confirm</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <script type="text/javascript">
        $(function () {
            $.getJSON("{% static 'jsons/test.json'%}", function (json_data) {
                $("#algorithm_vehicle_offlineslam").typeahead({source: eval('[' + json_data.algorithm_vehicle_offlineslam + ']'), minLength: 0});
                $("#algorithm_common").typeahead({source: eval('[' + json_data.algorithm_common + ']'), minLength: 0});
                $("#algorithm_sam").typeahead({source: eval('[' + json_data.algorithm_sam + ']'), minLength: 0});
                $("#common").typeahead({source: eval('[' + json_data.common + ']'), minLength: 0});
                $("#algorithm_common_sam").typeahead({source: eval('[' + json_data.algorithm_common_sam + ']'), minLength: 0});
                $("#common_sam").typeahead({source: eval('[' + json_data.common_sam + ']'), minLength: 0});
            });
        })
    </script>
{% endblock %}
